(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3103:function(e,t,a){Promise.resolve().then(a.bind(a,2657))},2657:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Home}});var s=a(7437),n=a(2265),l=a(932),components_Tachometer=e=>{let{rpm:t,maxRpm:a=8e3,yellowZone:r=7e3,redZone:d=7500,speed:i,gearNumber:m,width:c=300,height:h=300}=e,o=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!o.current)return;let e=l.Ys(o.current);e.selectAll("*").remove();let s=c/2,n=h/2,u=Math.min(c,h)/2-20,x=Math.min(c,h)/300,p=Math.max(8,Math.round(12*x)),b=Math.max(16,Math.round(24*x)),f=Math.max(14,Math.round(20*x)),g=Math.max(18,Math.round(28*x)),j=Math.max(2,Math.round(3*x)),v=Math.max(1,Math.round(2*x)),N=Math.max(6,Math.round(10*x)),y=Math.max(4,Math.round(6*x)),M=.5*Math.PI,w=1.999*Math.PI,C=.5*Math.PI,R=l.BYU().domain([0,a]).range([M,w]),k=l.Nb1().innerRadius(u-30*x).outerRadius(u).startAngle(M+C).endAngle(w+C);if(e.append("path").attr("d",k).attr("transform","translate(".concat(s,", ").concat(n,")")).attr("fill","#e0e0e0"),r<a){let t=l.Nb1().innerRadius(u-30*x).outerRadius(u).startAngle(R(r)+C).endAngle(R(Math.min(d,a))+C);e.append("path").attr("d",t).attr("transform","translate(".concat(s,", ").concat(n,")")).attr("fill","#FFD700")}if(d<a){let t=l.Nb1().innerRadius(u-30*x).outerRadius(u).startAngle(R(d)+C).endAngle(R(a)+C);e.append("path").attr("d",t).attr("transform","translate(".concat(s,", ").concat(n,")")).attr("fill","#FF0000")}let S=a<=1e4?1e3:2e3,I=l.w6H(0,a+1,S);I.forEach(t=>{let a=R(t),l=s+(u-30*x)*Math.cos(a),r=n+(u-30*x)*Math.sin(a),d=s+(u-10*x)*Math.cos(a),i=n+(u-10*x)*Math.sin(a);e.append("line").attr("x1",l).attr("y1",r).attr("x2",d).attr("y2",i).attr("stroke","black").attr("stroke-width",v);let m=s+(u-45*x)*Math.cos(a),c=n+(u-45*x)*Math.sin(a);e.append("text").attr("x",m).attr("y",c).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","".concat(p,"px")).text(t/1e3)});let F=R(Math.min(t,a)),G=u-8*x,P=s+G*Math.cos(F),T=n+G*Math.sin(F),_=F+Math.PI/2,z=F-Math.PI/2,A=s+j*Math.cos(_),E=n+j*Math.sin(_),D=s+j*Math.cos(z),H=n+j*Math.sin(z);e.append("path").attr("d","M ".concat(A," ").concat(E," L ").concat(P," ").concat(T," L ").concat(D," ").concat(H," Z")).attr("fill","red").attr("stroke","none"),e.append("circle").attr("cx",s).attr("cy",n).attr("r",N).attr("fill","#333"),e.append("circle").attr("cx",s).attr("cy",n).attr("r",y).attr("fill","#666");let O=n+50*x,Z=n+80*x,L=n+110*x,Y=t>=d;e.append("text").attr("x",s).attr("y",O).attr("text-anchor","middle").attr("font-size","".concat(b,"px")).attr("font-weight","bold").attr("fill",Y?"#FF0000":"black").text("".concat(Math.round(t)," RPM")),e.append("text").attr("x",s).attr("y",Z).attr("text-anchor","middle").attr("font-size","".concat(f,"px")).text("".concat(i," km/h")),e.append("text").attr("x",s).attr("y",L).attr("text-anchor","middle").attr("font-size","".concat(g,"px")).attr("font-weight","bold").text("".concat(m))},[t,a,r,d,i,m,c,h]),(0,s.jsx)("div",{className:"tachometer-container",children:(0,s.jsx)("svg",{ref:o,width:c,height:h})})};function calculateTireDiameter(e){let t=function(e){let t=e.match(/^(\d+)\/(\d+)\/R(\d+)$/);if(!t)return null;let a=parseInt(t[1],10),s=parseInt(t[2],10),n=parseInt(t[3],10);return{width:a,aspectRatio:s,rimDiameter:n}}(e);if(!t)return .65;let{width:a,aspectRatio:s,rimDiameter:n}=t;return(25.4*n+2*(a*s/100))/1e3}function calculateTireCircumference(e){let t=calculateTireDiameter(e);return Math.PI*t}var components_GearRatioForm=()=>{let[e,t]=(0,n.useState)({first:5.087,second:2.991,third:2.035,fourth:1.594,fifth:1.286,sixth:1,seventh:0,eighth:0,ninth:0,reverse:4.696}),[a,l]=(0,n.useState)(2.866),[r,d]=(0,n.useState)("195/50/R16"),[i,m]=(0,n.useState)(7e3),[c,h]=(0,n.useState)(7500),[o,u]=(0,n.useState)(8e3),[x,p]=(0,n.useState)(60),[b,f]=(0,n.useState)(1),[g,j]=(0,n.useState)({width:300,height:300}),v=(0,n.useRef)(null),[N,y]=(0,n.useState)([]),M=calculateTireDiameter(r),w=(100*M).toFixed(1),C=calculateTireCircumference(r),R=(100*C).toFixed(1),k=(function(e){let t=calculateTireCircumference(e);return 1e3/t})(r).toFixed(1);(0,n.useEffect)(()=>{let t=[e.first,e.second,e.third,e.fourth,e.fifth,e.sixth,e.seventh,e.eighth,e.ninth,e.reverse].filter(e=>e>0),s=t.map(e=>(function(e,t,a,s){let n=calculateTireDiameter(s);return Math.round(60*(e/3.6/(Math.PI*n))*t*a)})(x,e,a,r));y(s)},[x,e,a,r]),(0,n.useEffect)(()=>{if(!v.current)return;let updateTachometerSize=()=>{var e;let t=null===(e=v.current)||void 0===e?void 0:e.querySelectorAll(".tachometer-item");if(!t||0===t.length)return;let a=t[0],s=a.clientWidth;a.clientHeight;let n=Math.max(s-32,150);j({width:n,height:Math.max(n,150)})};updateTachometerSize();let e=new ResizeObserver(()=>{updateTachometerSize()});return e.observe(v.current),()=>{e.disconnect()}},[N.length]);let handleGearRatioChange=(e,a)=>{let s=parseFloat(a)||0;t(t=>({...t,[e]:s}))},handleSpeedChange=e=>{let t=parseInt(e.target.value)||0;p(t)};return Object.values(e).filter((e,t)=>e>0&&t<9).length,(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"ギア比タコメーターアプリ"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"ギア比設定"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"第1速"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:e.first||"",onChange:e=>handleGearRatioChange("first",e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"第2速"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:e.second||"",onChange:e=>handleGearRatioChange("second",e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"第3速"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:e.third||"",onChange:e=>handleGearRatioChange("third",e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"第4速"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:e.fourth||"",onChange:e=>handleGearRatioChange("fourth",e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"第5速"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:e.fifth||"",onChange:e=>handleGearRatioChange("fifth",e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"第6速"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:e.sixth||"",onChange:e=>handleGearRatioChange("sixth",e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"第7速"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:e.seventh||"",onChange:e=>handleGearRatioChange("seventh",e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"第8速"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:e.eighth||"",onChange:e=>handleGearRatioChange("eighth",e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"第9速"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:e.ninth||"",onChange:e=>handleGearRatioChange("ninth",e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"後退 (R)"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:e.reverse||"",onChange:e=>handleGearRatioChange("reverse",e.target.value),className:"w-full px-3 py-2 border rounded-md"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"最終減速比"}),(0,s.jsx)("input",{type:"number",step:"0.001",value:a||"",onChange:e=>{let t=parseFloat(e.target.value)||0;l(t)},className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"タイヤサイズ (例: 195/50/R16)"}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>{d(e.target.value)},className:"w-full px-3 py-2 border rounded-md",placeholder:"195/50/R16"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"イエローゾーン開始 (rpm)"}),(0,s.jsx)("input",{type:"number",step:"100",value:i||"",onChange:e=>{let t=parseInt(e.target.value)||0;m(t)},className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"レッドゾーン開始 (rpm)"}),(0,s.jsx)("input",{type:"number",step:"100",value:c||"",onChange:e=>{let t=parseInt(e.target.value)||0;h(t)},className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"最大RPM"}),(0,s.jsx)("input",{type:"number",step:"100",value:o||"",onChange:e=>{let t=parseInt(e.target.value)||0;u(t)},className:"w-full px-3 py-2 border rounded-md"})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["速度: ",x," km/h"]}),(0,s.jsx)("input",{type:"range",min:"0",max:"300",value:x,onChange:handleSpeedChange,className:"w-full"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{ref:v,className:"grid grid-cols-3 gap-4",children:N.map((e,t)=>t===N.length-1?null:(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-md tachometer-item",children:(0,s.jsx)(components_Tachometer,{rpm:e,maxRpm:o,yellowZone:i,redZone:c,speed:x,gearNumber:t+1,width:g.width,height:g.height})},t))}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"速度 (km/h)"}),(0,s.jsx)("input",{type:"number",value:x,onChange:handleSpeedChange,className:"w-full px-3 py-2 border rounded-md"})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"タイヤ情報と計算式"}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"現在のタイヤサイズ:"})," ",r]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"タイヤ外径:"})," ",w," cm"]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"タイヤ外周:"})," ",R," cm"]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"1km走行あたりの回転数:"})," ",k," 回転"]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("span",{className:"font-medium",children:"タイヤ外径の計算式:"}),(0,s.jsxs)("div",{className:"mt-1 text-sm bg-gray-50 p-2 rounded",children:["タイヤ外径 = リム径(インチ) \xd7 25.4 + 2 \xd7 (タイヤ幅(mm) \xd7 扁平率 \xf7 100)",(0,s.jsx)("br",{}),(0,s.jsxs)("span",{className:"text-gray-600",children:["例: ",r," の場合"]}),(0,s.jsx)("br",{}),"リム径 = 16インチ, タイヤ幅 = 195mm, 扁平率 = 50%",(0,s.jsx)("br",{}),"タイヤ外径 = 16 \xd7 25.4 + 2 \xd7 (195 \xd7 50 \xf7 100) = ",w," cm"]})]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"タイヤ外周の計算式:"}),(0,s.jsxs)("div",{className:"mt-1 text-sm bg-gray-50 p-2 rounded",children:["タイヤ外周 = π \xd7 タイヤ外径",(0,s.jsx)("br",{}),(0,s.jsxs)("span",{className:"text-gray-600",children:["例: ",r," の場合"]}),(0,s.jsx)("br",{}),"タイヤ外周 = π \xd7 ",w," cm = ",R," cm"]})]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"RPM計算式:"}),(0,s.jsx)("div",{className:"mt-1 text-sm bg-gray-50 p-2 rounded",children:"RPM = (速度[km/h] \xd7 ギア比 \xd7 最終減速比 \xd7 60) \xf7 (タイヤ外周[m] \xd7 3.6)"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"現在の設定:"})," 最終減速比 = ",a]})]})]})]})]})};function Home(){return(0,s.jsx)("main",{className:"min-h-screen py-8",children:(0,s.jsx)(components_GearRatioForm,{})})}}},function(e){e.O(0,[329,971,472,744],function(){return e(e.s=3103)}),_N_E=e.O()}]);