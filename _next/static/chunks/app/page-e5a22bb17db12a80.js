(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2261:(e,t,a)=>{Promise.resolve().then(a.bind(a,4137))},4137:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(5155),d=a(2115),s=a(5695),l=a(9039);let n=e=>{let{rpm:t,maxRpm:a=8e3,yellowZone:s=7e3,redZone:n=7500,speed:i,gearNumber:c,width:o=300,height:m=300,startAngle:h=.5*Math.PI,endAngle:x=2*Math.PI,nextGearRpm:u}=e,p=(0,d.useRef)(null);return(0,d.useEffect)(()=>{if(!p.current)return;let e=window.matchMedia("(prefers-color-scheme: dark)").matches,r={background:e?"#374151":"#e0e0e0",text:e?"#ffffff":"#000000",needle:"#FF0000",nextNeedle:"#0066cc",centerDark:e?"#1F2937":"#333",centerLight:e?"#374151":"#666",yellow:"#FFD700",red:"#FF0000"},d=l.Ltv(p.current);d.selectAll("*").remove();let i=o/2,g=m/2,b=Math.min(o,m)/2-20,k=Math.min(o,m)/300,f=Math.max(8,Math.round(12*k)),y=Math.max(16,Math.round(24*k)),v=Math.max(18,Math.round(28*k)),j=Math.max(2,Math.round(3*k)),w=Math.max(1,Math.round(2*k)),N=Math.max(6,Math.round(10*k)),M=Math.max(4,Math.round(6*k)),C=.5*Math.PI,R=l.m4Y().domain([0,a]).range([h,x]),S=l.JLW().innerRadius(b-30*k).outerRadius(b).startAngle(h+C).endAngle(x+C);if(d.append("path").attr("d",S).attr("transform","translate(".concat(i,", ").concat(g,")")).attr("fill",r.background),s<a){let e=l.JLW().innerRadius(b-30*k).outerRadius(b).startAngle(R(s)+C).endAngle(R(Math.min(n,a))+C);d.append("path").attr("d",e).attr("transform","translate(".concat(i,", ").concat(g,")")).attr("fill",r.yellow)}if(n<a){let e=l.JLW().innerRadius(b-30*k).outerRadius(b).startAngle(R(n)+C).endAngle(R(a)+C);d.append("path").attr("d",e).attr("transform","translate(".concat(i,", ").concat(g,")")).attr("fill",r.red)}let I=a<=1e4?1e3:2e3;l.y17(0,a+1,I).forEach(e=>{let t=R(e),a=i+(b-30*k)*Math.cos(t),s=g+(b-30*k)*Math.sin(t),l=i+(b-10*k)*Math.cos(t),n=g+(b-10*k)*Math.sin(t);d.append("line").attr("x1",a).attr("y1",s).attr("x2",l).attr("y2",n).attr("stroke",r.text).attr("stroke-width",w);let c=i+(b-45*k)*Math.cos(t),o=g+(b-45*k)*Math.sin(t);d.append("text").attr("x",c).attr("y",o).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","".concat(f,"px")).attr("fill",r.text).text(e/1e3)});let P=R(Math.min(t,a)),A=b-8*k,L=i+A*Math.cos(P),F=g+A*Math.sin(P),E=P+Math.PI/2,Z=P-Math.PI/2,D=i+j*Math.cos(E),z=g+j*Math.sin(E),O=i+j*Math.cos(Z),_=g+j*Math.sin(Z);if(d.append("path").attr("d","M ".concat(D," ").concat(z," L ").concat(L," ").concat(F," L ").concat(O," ").concat(_," Z")).attr("fill",r.needle).attr("stroke","none"),void 0!==u){let e=R(Math.min(u,a)),t=i+A*Math.cos(e),s=g+A*Math.sin(e),l=e+Math.PI/2,n=e-Math.PI/2,c=i+j*Math.cos(l),o=g+j*Math.sin(l),m=i+j*Math.cos(n),h=g+j*Math.sin(n);d.append("path").attr("d","M ".concat(c," ").concat(o," L ").concat(t," ").concat(s," L ").concat(m," ").concat(h," Z")).attr("fill",r.nextNeedle).attr("stroke","none")}d.append("circle").attr("cx",i).attr("cy",g).attr("r",N).attr("fill",r.centerDark),d.append("circle").attr("cx",i).attr("cy",g).attr("r",M).attr("fill",r.centerLight);let U=g+150*k,J=g-120*k,W=t>=n?r.red:r.text;d.append("text").attr("x",i).attr("y",U).attr("text-anchor","middle").attr("font-size","".concat(y,"px")).attr("font-weight","bold").attr("fill",W).text("".concat(Math.round(t)," RPM")),d.append("text").attr("x",i).attr("y",J).attr("text-anchor","middle").attr("font-size","".concat(v,"px")).attr("font-weight","bold").attr("fill",r.text).text("".concat(u?"".concat(c,"-").concat(Number(c)+1):c))},[t,a,s,n,i,c,o,m,h,x,u]),(0,r.jsx)("div",{className:"tachometer-container",children:(0,r.jsx)("svg",{ref:p,width:o,height:m})})},i=e=>{let{onSelect:t,presets:a=[]}=e;return 0===a.length?(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"プリセット選択"}),(0,r.jsx)("p",{children:"プリセットを読み込み中..."})]}):(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"プリセット選択"}),(0,r.jsx)("div",{className:"grid gap-4",children:a.map(e=>(0,r.jsxs)("button",{onClick:()=>t({modelCode:e.modelCode,description:e.description,url:"/presets/".concat(e.modelCode,".yaml")}),className:"flex flex-col items-start p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("span",{className:"font-medium",children:e.modelCode}),(0,r.jsx)("span",{className:"text-gray-600",children:e.description})]},e.modelCode))})]})};function c(e){let t=function(e){let t=e.match(/^(\d+)\/(\d+)\/R(\d+)$/);if(!t)return null;let a=parseInt(t[1],10);return{width:a,aspectRatio:parseInt(t[2],10),rimDiameter:parseInt(t[3],10)}}(e);if(!t)return .65;let{width:a,aspectRatio:r,rimDiameter:d}=t;return(25.4*d+a*r/100*2)/1e3}function o(e){return Math.PI*c(e)}var m=a(534);let h=()=>"/taco-web";async function x(){try{let e=h(),t=await fetch("".concat(e,"/presets/index.yaml"));if(!t.ok)throw Error("プリセットインデックスの読み込みに失敗しました: ".concat(t.statusText));let a=await t.text();return m.Ay.load(a).presets||[]}catch(e){return console.error("プリセットの読み込みに失敗しました:",e),[]}}async function u(e){return(await x()).find(t=>t.modelCode===e)}async function p(e){try{let t=h(),a=await fetch("".concat(t,"/presets/").concat(e,".yaml"));if(!a.ok)throw Error("プリセット ".concat(e," の読み込みに失敗しました: ").concat(a.statusText));let r=await a.text();return m.Ay.load(r)}catch(t){return console.error("プリセット ".concat(e," の詳細の読み込みに失敗しました:"),t),null}}let g=[];x().then(e=>{g.length=0,e.forEach(e=>{g.push({modelCode:e.modelCode,description:e.description,url:"/presets/".concat(e.modelCode,".yaml")})})}).catch(e=>{console.error("プリセットの初期化に失敗しました:",e)});let b=async e=>{if(!await u(e))throw Error("プリセット ".concat(e," が見つかりません"));return p(e)},k=()=>{let e=(0,s.useRouter)(),t=(0,s.useSearchParams)(),[a,l]=(0,d.useState)(""),[h,u]=(0,d.useState)(""),[p,g]=(0,d.useState)([]),k=.5*Math.PI,f=2*Math.PI,[y,v]=(0,d.useState)({first:5.087,second:2.991,third:2.035,fourth:1.594,fifth:1.286,sixth:1,seventh:0,eighth:0,ninth:0,reverse:4.696}),[j,w]=(0,d.useState)(2.866),[N,M]=(0,d.useState)("195/50/R16"),[C,R]=(0,d.useState)(7e3),[S,I]=(0,d.useState)(7500),[P,A]=(0,d.useState)(8e3),[L,F]=(0,d.useState)(60),[E,Z]=(0,d.useState)(1),[D,z]=(0,d.useState)(k),[O,_]=(0,d.useState)(f),[U,J]=(0,d.useState)(0),[W,T]=(0,d.useState)({width:300,height:300}),B=(0,d.useRef)(null),[H,q]=(0,d.useState)([]),G=(100*c(N)).toFixed(1),Y=(100*o(N)).toFixed(1),$=(1e3/o(N)).toFixed(1);(0,d.useEffect)(()=>{let e=[y.first,y.second,y.third,y.fourth,y.fifth,y.sixth,y.seventh,y.eighth,y.ninth,y.reverse].filter(e=>e>0);q(e.map(e=>{var t,a,r;return t=L,a=e,r=j,Math.round(t/3.6/(Math.PI*c(N))*60*a*r)}))},[L,y,j,N]),(0,d.useEffect)(()=>{if(!B.current)return;let e=()=>{var e;let t=null===(e=B.current)||void 0===e?void 0:e.querySelectorAll(".tachometer-item");if(!t||0===t.length)return;let a=t[0],r=a.clientWidth;a.clientHeight;let d=Math.max(r-32,100),s=Math.max(d,100);T({width:d,height:s})};e();let t=new ResizeObserver(()=>{e()});return t.observe(B.current),()=>{t.disconnect()}},[H.length,U]);let K=(e,t)=>{let a=parseFloat(t)||0;v(t=>({...t,[e]:a}))};Object.values(y).filter((e,t)=>e>0&&t<9).length;let Q=async t=>{try{let a=await b(t.modelCode);console.log(JSON.stringify(a,null,2)),a.modelCode&&l(a.modelCode),a.description&&u(a.description),a.gearRatios&&v(a.gearRatios),a.finalDriveRatio&&w(a.finalDriveRatio),a.tireSize&&M(a.tireSize),a.yellowZone&&R(a.yellowZone),a.redZone&&I(a.redZone),a.maxRpm&&A(a.maxRpm),a.startAngle&&z(a.startAngle),a.endAngle&&_(a.endAngle),a.columnsCount&&J(a.columnsCount);let r=new URLSearchParams(window.location.search);r.set("preset",t.modelCode),e.push("?".concat(r.toString()))}catch(e){console.error("プリセットの読み込みに失敗しました:",e),alert("プリセットの読み込みに失敗しました。")}};return(0,d.useEffect)(()=>{(async()=>{try{let e=await x();g(e)}catch(e){console.error("プリセット一覧の読み込みに失敗しました:",e)}})()},[]),(0,d.useEffect)(()=>{let e=t.get("preset");e&&Q({modelCode:e,description:"",url:""})},[]),(0,r.jsxs)("div",{className:"container mx-auto p-4 dark:bg-gray-900 dark:text-white",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6 dark:text-white",children:"ギア比タコメーターアプリ"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold dark:text-white",children:h}),(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["型式: ",a]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:["速度: ",L," km/h"]}),(0,r.jsx)("input",{type:"range",min:"0",max:"300",value:L,onChange:e=>{F(parseInt(e.target.value)||0)},className:"w-full dark:bg-gray-700"})]})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{ref:B,className:"grid ".concat((()=>{switch(U){case 1:return"grid-cols-1";case 2:return"grid-cols-2";case 3:default:return"grid-cols-3";case 4:return"grid-cols-4";case 5:return"grid-cols-5";case 6:return"grid-cols-6"}})()," gap-4"),children:H.map((e,t)=>{if(t===H.length-1)return null;let a=H[t+1];return a>e&&(a=void 0),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md tachometer-item",children:(0,r.jsx)(n,{rpm:e,maxRpm:P,yellowZone:C,redZone:S,speed:L,gearNumber:t+1,nextGearRpm:a,width:W.width,height:W.height,startAngle:D,endAngle:O})},t)})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(i,{onSelect:Q,presets:p})}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"基本情報"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"型式"}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"例: ND5RC"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"説明"}),(0,r.jsx)("input",{type:"text",value:h,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"例: マツダ ロードスター（ND 1.5）"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 dark:text-white",children:"詳細設定"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"第1速"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:y.first||"",onChange:e=>K("first",e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"第2速"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:y.second||"",onChange:e=>K("second",e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"第3速"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:y.third||"",onChange:e=>K("third",e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"第4速"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:y.fourth||"",onChange:e=>K("fourth",e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"第5速"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:y.fifth||"",onChange:e=>K("fifth",e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"第6速"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:y.sixth||"",onChange:e=>K("sixth",e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"第7速"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:y.seventh||"",onChange:e=>K("seventh",e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"第8速"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:y.eighth||"",onChange:e=>K("eighth",e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"第9速"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:y.ninth||"",onChange:e=>K("ninth",e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"後退 (R)"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:y.reverse||"",onChange:e=>K("reverse",e.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"最終減速比"}),(0,r.jsx)("input",{type:"number",step:"0.001",value:j||"",onChange:e=>{w(parseFloat(e.target.value)||0)},className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"タイヤサイズ (例: 195/50/R16)"}),(0,r.jsx)("input",{type:"text",value:N,onChange:e=>{M(e.target.value)},className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"195/50/R16"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"開始角度 (π\xd7)"}),(0,r.jsx)("input",{type:"number",step:"0.1",value:D/Math.PI,onChange:e=>{z((parseFloat(e.target.value)||0)*Math.PI)},className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"終了角度 (π\xd7)"}),(0,r.jsx)("input",{type:"number",step:"0.1",value:O/Math.PI,onChange:e=>{_((parseFloat(e.target.value)||0)*Math.PI)},className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*[.]?[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"イエローゾーン開始 (rpm)"}),(0,r.jsx)("input",{type:"number",step:"100",value:C||"",onChange:e=>{R(parseInt(e.target.value)||0)},className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"レッドゾーン開始 (rpm)"}),(0,r.jsx)("input",{type:"number",step:"100",value:S||"",onChange:e=>{I(parseInt(e.target.value)||0)},className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"最大RPM"}),(0,r.jsx)("input",{type:"number",step:"100",value:P||"",onChange:e=>{A(parseInt(e.target.value)||0)},className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[0-9]*"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"タコメーター列数 (1-9)"}),(0,r.jsx)("input",{type:"number",min:"0",max:"9",value:U,onChange:e=>{J(Math.max(1,Math.min(6,parseInt(e.target.value)||1)))},className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",inputMode:"decimal",pattern:"[1-9]"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("button",{onClick:()=>{let e=(0,m.Bh)({modelCode:a,description:h,gearRatios:y,finalDriveRatio:j,tireSize:N,yellowZone:C,redZone:S,maxRpm:P,startAngle:D,endAngle:O,columnsCount:U}),t=new Blob([e],{type:"text/yaml"}),r=URL.createObjectURL(t),d=document.createElement("a");d.href=r,d.download="".concat(a,".yaml"),document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(r)},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded dark:bg-blue-600 dark:hover:bg-blue-800",children:"設定を保存"}),(0,r.jsxs)("label",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded cursor-pointer dark:bg-green-600 dark:hover:bg-green-800",children:["設定を読み込む",(0,r.jsx)("input",{type:"file",accept:".yaml,.yml",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;let r=new FileReader;r.onload=e=>{try{var t;let a=null===(t=e.target)||void 0===t?void 0:t.result,r=(0,m.Hh)(a);console.debug(r),r.modelCode&&l(r.modelCode),r.description&&u(r.description),v(r.gearRatios),w(r.finalDriveRatio),M(r.tireSize),R(r.yellowZone),I(r.redZone),A(r.maxRpm),z(r.startAngle),_(r.endAngle),J(r.columnsCount)}catch(e){console.error("設定ファイルの読み込みに失敗しました:",e),alert("設定ファイルの読み込みに失敗しました。ファイル形式を確認してください。")}},r.readAsText(a)},className:"hidden"})]})]}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2 dark:text-white",children:"タイヤ情報と計算式"}),(0,r.jsxs)("div",{className:"mb-2 dark:text-white",children:[(0,r.jsx)("span",{className:"font-medium",children:"現在のタイヤサイズ:"})," ",N]}),(0,r.jsxs)("div",{className:"mb-2 dark:text-white",children:[(0,r.jsx)("span",{className:"font-medium",children:"タイヤ外径:"})," ",G," cm"]}),(0,r.jsxs)("div",{className:"mb-2 dark:text-white",children:[(0,r.jsx)("span",{className:"font-medium",children:"タイヤ外周:"})," ",Y," cm"]}),(0,r.jsxs)("div",{className:"mb-2 dark:text-white",children:[(0,r.jsx)("span",{className:"font-medium",children:"1km走行あたりの回転数:"})," ",$," 回転"]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("span",{className:"font-medium dark:text-white",children:"タイヤ外径の計算式:"}),(0,r.jsxs)("div",{className:"mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-2 rounded dark:text-white",children:["タイヤ外径 = リム径(インチ) \xd7 25.4 + 2 \xd7 (タイヤ幅(mm) \xd7 扁平率 \xf7 100)",(0,r.jsx)("br",{}),(0,r.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["例: ",N," の場合"]}),(0,r.jsx)("br",{}),"リム径 = 16インチ, タイヤ幅 = 195mm, 扁平率 = 50%",(0,r.jsx)("br",{}),"タイヤ外径 = 16 \xd7 25.4 + 2 \xd7 (195 \xd7 50 \xf7 100) = ",G," cm"]})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("span",{className:"font-medium dark:text-white",children:"タイヤ外周の計算式:"}),(0,r.jsxs)("div",{className:"mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-2 rounded dark:text-white",children:["タイヤ外周 = π \xd7 タイヤ外径",(0,r.jsx)("br",{}),(0,r.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["例: ",N," の場合"]}),(0,r.jsx)("br",{}),"タイヤ外周 = π \xd7 ",G," cm = ",Y," cm"]})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("span",{className:"font-medium dark:text-white",children:"RPM計算式:"}),(0,r.jsx)("div",{className:"mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-2 rounded dark:text-white",children:"RPM = (速度[km/h] \xd7 ギア比 \xd7 最終減速比 \xd7 60) \xf7 (タイヤ外周[m] \xd7 3.6)"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"現在の設定:"})," 最終減速比 = ",j]})]})]})]})]})};function f(){return(0,r.jsx)("main",{className:"min-h-screen py-8",children:(0,r.jsx)(d.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(k,{})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[438,441,684,358],()=>t(2261)),_N_E=e.O()}]);